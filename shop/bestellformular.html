<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bestellformular - babixGO</title>
    <meta name="description" content="Vervollst√§ndige deine Bestellung bei babixGO - Gib deine Spielerinformationen ein f√ºr die schnelle Lieferung.">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700;800&family=Baloo+2:wght@600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div id="header-placeholder"></div>
    
    <!-- Hero Section -->
    <section class="hero" style="padding: 2rem 1rem;">
        <h1>‚úÖ Zahlung erfolgreich!</h1>
        <p>Vielen Dank f√ºr deine Bestellung. Bitte vervollst√§ndige nun deine Informationen, damit wir deinen Service schnellstm√∂glich bearbeiten k√∂nnen.</p>
    </section>

    <!-- Order Form -->
    <main class="product-section">
        <div class="order-form-section">
            <h2 class="babix-info-header">Bestellinformationen vervollst√§ndigen</h2>
            
            <div class="info-box">
                <strong>üì¶ Deine Bestellung:</strong>
                <p id="order-summary">
                    Produkt: <span id="product-name">-</span><br>
                    Preis: <span id="product-price">-</span>
                </p>
            </div>

            <form id="order-form" method="post" action="#">
                <div class="form-row">
                    <div class="form-group">
                        <label for="email">E-Mail Adresse *</label>
                        <input type="email" id="email" name="email" required>
                        <small style="color: #6b7b8c;">F√ºr Updates zu deiner Bestellung</small>
                    </div>
                </div>

                <div class="form-row two-cols">
                    <div class="form-group">
                        <label for="firstName">Vorname *</label>
                        <input type="text" id="firstName" name="firstName" required>
                    </div>
                    <div class="form-group">
                        <label for="lastName">Nachname *</label>
                        <input type="text" id="lastName" name="lastName" required>
                    </div>
                </div>

                <h3 style="margin: 2rem 0 1rem; color: #0A3A68; font-family: 'Baloo 2', cursive;">üéÆ Monopoly GO Informationen</h3>

                <div class="form-row">
                    <div class="form-group">
                        <label for="playerName">Monopoly GO Spielername *</label>
                        <input type="text" id="playerName" name="playerName" required>
                        <small style="color: #6b7b8c;">Dein Ingame-Name (genau wie im Spiel angezeigt)</small>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="friendCode">Freundschaftscode *</label>
                        <input type="text" id="friendCode" name="friendCode" required>
                        <small style="color: #6b7b8c;">Findest du in den Einstellungen unter "Freunde hinzuf√ºgen"</small>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="deviceType">Ger√§t/Platform *</label>
                        <select id="deviceType" name="deviceType" required style="width: 100%; padding: 0.75rem; border: 2px solid #e5eef5; border-radius: 0.5rem; font-family: inherit; font-size: 1rem;">
                            <option value="">Bitte w√§hlen...</option>
                            <option value="android">Android</option>
                            <option value="ios">iOS (iPhone/iPad)</option>
                            <option value="facebook">Facebook</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="specialNotes">Besondere W√ºnsche/Anmerkungen</label>
                        <textarea id="specialNotes" name="specialNotes" rows="3" style="width: 100%; padding: 0.75rem; border: 2px solid #e5eef5; border-radius: 0.5rem; font-family: inherit; font-size: 1rem; resize: vertical;"></textarea>
                        <small style="color: #6b7b8c;">Optional: Zeitw√ºnsche, bevorzugte Kontaktzeiten, etc.</small>
                    </div>
                </div>

                <h3 style="margin: 2rem 0 1rem; color: #0A3A68; font-family: 'Baloo 2', cursive;">üìû Kontakt (Optional)</h3>

                <div class="form-row">
                    <div class="form-group">
                        <label for="whatsapp">WhatsApp Nummer</label>
                        <input type="tel" id="whatsapp" name="whatsapp">
                        <small style="color: #6b7b8c;">F√ºr schnellere Kommunikation (optional, aber empfohlen)</small>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="preferredContact">Bevorzugter Kontaktweg</label>
                        <select id="preferredContact" name="preferredContact" style="width: 100%; padding: 0.75rem; border: 2px solid #e5eef5; border-radius: 0.5rem; font-family: inherit; font-size: 1rem;">
                            <option value="email">E-Mail</option>
                            <option value="whatsapp">WhatsApp</option>
                            <option value="both">Beide</option>
                        </select>
                    </div>
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Wichtige Hinweise:</strong>
                    <ul style="margin: 0.5rem 0; padding-left: 1.5rem;">
                        <li>Stelle sicher, dass alle Angaben korrekt sind</li>
                        <li>Falsche Spielerinformationen k√∂nnen zu Verz√∂gerungen f√ºhren</li>
                        <li>Wir beginnen mit der Bearbeitung nach Erhalt dieser Informationen</li>
                        <li>Bei Fragen erreichst du uns jederzeit √ºber WhatsApp oder E-Mail</li>
                    </ul>
                </div>

                <div style="text-align: center; margin: 2rem 0;">
                    <button type="submit" class="button button-orange" style="font-size: 1.1rem; padding: 1rem 2rem;">
                        <span class="material-icons" style="margin-right: 0.5rem;">send</span>
                        Bestellung abschicken
                    </button>
                </div>
            </form>
        </div>

        <!-- Contact Info -->
        <div class="card" style="margin-top: 2rem; text-align: center;">
            <h3 style="color: #0A3A68; margin-bottom: 1rem;">üìû Fragen? Wir sind f√ºr dich da!</h3>
            <div style="display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap;">
                <a href="https://wa.me/4915223842897" target="_blank" class="button button-cyan" style="width: auto;">
                    <span>WhatsApp</span>
                </a>
                <a href="mailto:support@babixgo-mail.de" class="button button-orange" style="width: auto;">
                    <span>E-Mail</span>
                </a>
                <a href="https://m.me/494670617055790" target="_blank" class="button button-darkblue" style="width: auto;">
                    <span>Messenger</span>
                </a>
            </div>
        </div>
    </main>

    <div id="footer-placeholder"></div>
    
    <script src="../js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get URL parameters and populate order summary
            const params = new URLSearchParams(window.location.search);
            const productName = params.get('product');
            const price = params.get('price');
            
            if (productName) {
                document.getElementById('product-name').textContent = decodeURIComponent(productName);
            }
            
            if (price) {
                document.getElementById('product-price').textContent = `‚Ç¨${price}`;
            }
            
            // Form submission
            document.getElementById('order-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const formData = new FormData(this);
                const orderData = Object.fromEntries(formData);
                
                // Basic validation
                if (!orderData.email || !orderData.firstName || !orderData.lastName || 
                    !orderData.playerName || !orderData.friendCode || !orderData.deviceType) {
                    showMessage('Bitte f√ºllen Sie alle Pflichtfelder (*) aus.', 'error');
                    return;
                }
                
                // Email validation
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(orderData.email)) {
                    showMessage('Bitte geben Sie eine g√ºltige E-Mail-Adresse ein.', 'error');
                    return;
                }
                
                // Show success message and reset form
                showMessage(
                    `üéâ Vielen Dank ${orderData.firstName}! Deine Bestellung wurde erfolgreich √ºbermittelt. ` +
                    `Wir beginnen sofort mit der Bearbeitung und melden uns innerhalb der n√§chsten 24 Stunden bei dir. ` +
                    `Du erh√§ltst in K√ºrze eine Best√§tigung an ${orderData.email}.`, 
                    'success'
                );
                
                // In a real implementation, this would send the data to a server
                console.log('Order data:', orderData);
                
                this.reset();
                
                // Scroll to top to show success message
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });
        
        function showMessage(text, type) {
            // Remove existing messages
            const existingMessage = document.querySelector('.success-message, .error-message');
            if (existingMessage) {
                existingMessage.remove();
            }
            
            // Create new message
            const messageDiv = document.createElement('div');
            messageDiv.className = type === 'success' ? 'success-message' : 'error-message';
            messageDiv.innerHTML = text;
            
            // Insert at the top of the form section
            const formSection = document.querySelector('.order-form-section');
            formSection.insertBefore(messageDiv, formSection.firstChild);
        }
    </script>
</body>
</html>
